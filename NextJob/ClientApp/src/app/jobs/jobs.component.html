<h1 id="tableLabel">Jobs</h1>

<button mat-raised-button (click)="handleAuthentication()">{{ authStatus ? 'Log out' : 'Admin' }}</button>
<button *ngIf="!authStatus" mat-raised-button (click)="openDescriptionDialog()">About Us</button>
<button *ngIf="authStatus" mat-raised-button (click)="openAddEditJobDialog()">Add</button>

<p *ngIf="!jobs"><em>Loading...</em></p>

<div *ngIf="jobs">
  <mat-card *ngFor="let job of jobs" class="job-card">
    <mat-card-header>
      <mat-card-title>{{ job.title }}</mat-card-title>
      <mat-card-subtitle>{{ job.workplace }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>
        {{ job.description }}
      </p>
    </mat-card-content>
    <mat-card-actions *ngIf="!authStatus">
      <button mat-raised-button (click)="openApplicationDialog(job.id)">APPLY</button>
    </mat-card-actions>
    <mat-card-actions *ngIf="authStatus">
      <button mat-raised-button (click)="openAddEditJobDialog(job)">EDIT</button>
      <button mat-raised-button (click)="openDeleteJobDialog(job)">DELETE</button>
      <button mat-raised-button (click)="openApplicantsDialog(job.id)">APPLICANTS</button>
    </mat-card-actions>
  </mat-card>
</div>
